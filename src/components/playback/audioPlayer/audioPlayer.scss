$image-size: 4em;

.audio-player {
	position: fixed;
	bottom: 1rem;
	left: 50%;
	transform: translateX(-50%);
	width: 95%;
	max-width: 1200px;
	z-index: 100;
	display: grid;
	padding: 0.75em 1.5em;
	gap: 1.5em;
	box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
	grid-template-columns: 25% 1fr 25%;
    @include glass-effect($blur: 12px, $bg-color: rgba(18, 18, 18, 0.85));
	// background: rgba(18, 18, 18, 0.85) !important;
	// backdrop-filter: blur(12px);
	// -webkit-backdrop-filter: blur(12px);
	// border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 1rem;
	align-items: center;

	@media (max-width: 900px) {
		grid-template-columns: 1fr auto;
		padding: 0.5em 1em;
		bottom: 0;
		width: 100%;
		border-radius: 0;
		border-bottom: none;
		border-left: none;
		border-right: none;
		
		.audio-player-controls {
			display: none; // Hide controls on mobile for now or adjust
		}
	}

	#waveform {
		width: 100%;
		transform: scaleY(0);
		transition: transform $transition-time-default;
		&[data-show="true"] {
			transform: scaleY(1) !important;
		}
	}
	&-controls {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.5em;
		padding: 0.5em 0;
		flex-flow: column;
	}
	&-info {
		display: grid;
		gap: 1em;
		grid-template-columns: minmax(0, $image-size) minmax(0, 1fr);
		width: fit-content;
		align-items: center;
		flex-grow: 1;
		width: 100%;
		overflow: hidden;

		&-text {
			display: flex;
			flex-direction: column;
			overflow: hidden;
			min-width: 0;
		}
	}
	&-image {
		width: $image-size;
		aspect-ratio: 1;
		object-fit: cover;
		z-index: 1;
		flex-shrink: 0;
		flex-grow: 1;
		
		position: relative;
		&-container {
			border-radius: $border-radius_04;
			position: relative;
			overflow: hidden;
			height: fit-content;
			aspect-ratio: 1;
			background: rgb(255 255 255 / 0.1);
		}
		&-icon {
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			font-size: 2em !important;
			z-index: 0;
		}
	}
	&-track {
		grid-template-columns: $image-size 60% 0.5fr 0.5fr !important;
	}
	&-playlist{
		background: $clr-background-dark !important;
		border: 1.2px solid rgb(255 255 255 / 0.2);
		display: flex;
		flex-direction: column;
		gap: 1em;
		// Magic scrollbar
		&::-webkit-scrollbar {
			&-thumb {
				height: 150px;
				max-height: 33%;
			}
			&-track {
				margin-top: 20px;
				margin-bottom: 20px;
				background: transparent !important;
			}
		}
		
		&-track{
			display: grid;
			gap: 1em;
			grid-template-columns: 4em 1fr 4em;
			cursor: pointer;
			&.active{
				color: $clr-accent-default;
			}
			&-image{
				background: rgb(255 255 255 / 0.1);
				border: 1.2px solid rgb(255 255 255 / 0.1);
				overflow: hidden;
				border-radius:5px;
				width: 100%;
				aspect-ratio: 1;
				height: 4em;
			}
		}
		
	}
}
